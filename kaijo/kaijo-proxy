async function run(model, input) {
  const response = await fetch(
    `https://api.cloudflare.com/client/v4/accounts/8c45d5e9465fc2a8577f55ae265676b1/ai/run/${model}`,
    {
      headers: {
        Authorization: "Bearer PxPhuWuHv447yj_wNdXDsnsVwMv0oGlrwxxXEEXE",  // ← your token from earlier
        "Content-Type": "application/json"
      },
      method: "POST",
      body: JSON.stringify(input)
    }
  );
  return await response.json();
}

// Run it!
run("@cf/meta/llama-3.1-8b-instruct", {   // upgraded to 3.1 – better & faster
  messages: [
    { role: "system", content: "You are a friendly assistant that helps write stories" },
    { role: "user",   content: "Write a short story about a llama that goes on a journey to find an orange cloud" }
  ]
})
.then(r => console.log(r.result.response))
.catch(e => console.error("Error:", e));
